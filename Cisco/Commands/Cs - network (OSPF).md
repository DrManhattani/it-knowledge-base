---
tags:
  - ๐network/cisco
  - ๐network/cisco/cmd
๐Stack: ๐ง Cisco
๐ Device:
  - โ Rtr
  - โ Sw (L3)
๐ถ Mode:
  - โ๏ธ Config-Router
๐๏ธ Category:
  - ๐ Setup
๐ Description: ะะบะปััะฐะตั OSPF ะฝะฐ ะธะฝัะตััะตะนัะฐั, ััะธ IP-ะฐะดัะตัะฐ ะฟะพะฟะฐะดะฐัั ะฒ ัะบะฐะทะฐะฝะฝัะน ะดะธะฐะฟะฐะทะพะฝ Wildcard. ะะฝัะตััะตะนั ะฝะฐัะธะฝะฐะตั ัะฐัััะปะฐัั Hello ะธ ะฟะพะฟะฐะดะฐะตั ะฒ LSDB.
โก Alias: net 10.0.0.0 0.0.0.255 a 0
๐ป Command: network <ip-address> <wildcard-mask> area <area-id>
---
# ๐ ะะปะฐะฒะฐ: ะะพะผะฐะฝะดะฐ Network ะธ Wildcard ะะฐัะบะฐ

ะะพะผะฐะฝะดะฐ `network` ะฒ OSPF ะฒัะฟะพะปะฝัะตั ะดะฒะต ะบัะธัะธัะตัะบะธะต ััะฝะบัะธะธ, ะบะพัะพััะต ัะฐััะพ ะฟััะฐัั:
1.  **ะะบัะธะฒะฐัะธั:** ะะฝะฐ ะธัะตั ะปะพะบะฐะปัะฝัะต ะธะฝัะตััะตะนัั, ะฟะพะฟะฐะดะฐััะธะต ะฒ ัะบะฐะทะฐะฝะฝัะน ะดะธะฐะฟะฐะทะพะฝ, ะธ **ะทะฐะฟััะบะฐะตั ะฝะฐ ะฝะธั ะฟัะพัะตัั OSPF** (ะฝะฐัะธะฝะฐัั ะปะตัะตัั Hello-ะฟะฐะบะตัั).
2.  **ะะฝะพะฝั:** ะะฝะฐ ะฑะตัะตั ะฟะพะดัะตัั ััะพะณะพ ะธะฝัะตััะตะนัะฐ ะธ ะดะพะฑะฐะฒะปัะตั ะตั ะฒ ะฑะฐะทั ะดะฐะฝะฝัั (LSA), ััะพะฑั ะพ ะฝะตะน ัะทะฝะฐะปะธ ัะพัะตะดะธ.

---

> [!QUESTION]+ โ ะะพัะตะผั RIP ะฝะต ััะตะฑัะตั ะผะฐัะบั, ะฐ OSPF ััะตะฑัะตั?
> **RIP (Routing Information Protocol)** โ ััะพ ััะฐััะน, "ะบะปะฐััะพะฒัะน" ะฟัะพัะพะบะพะป.
> * ะะพะณะดะฐ ะฒ RIP ัั ะฟะธัะตัั `network 10.0.0.0`, ะพะฝ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐัะฒะฐััะฒะฐะตั **ะะกะ** ะธะฝัะตััะตะนัั, ะฝะฐัะธะฝะฐััะธะตัั ะฝะฐ `10.`. ะฃ ะฝะตะณะพ ะฝะตั ัะพัะฝะพััะธ. ะะฝ ัะฐะฑะพัะฐะตั "ัะธัะพะบะธะผะธ ะผะฐะทะบะฐะผะธ" (Classful).
> 
> **OSPF (Open Shortest Path First)** โ ััะพ ะฟัะตัะธะทะธะพะฝะฝัะน ะฟัะพัะพะบะพะป.
> * ะะผั ะฝัะถะฝะฐ ัะธัััะณะธัะตัะบะฐั ัะพัะฝะพััั. ะ ัะปะพะถะฝะพะน ัะตัะธ ะฝะฐ ะพะดะฝะพะผ ัะพััะตัะต ะผะพะถะตั ะฑััั 5 ะธะฝัะตััะตะนัะพะฒ ะฒ ัะตัะธ `10.x.x.x`, ะฝะพ OSPF ะฝัะถะฝะพ ะฒะบะปััะธัั ัะพะปัะบะพ ะฝะฐ *ะดะฒัั* ะธะท ะฝะธั, ะฐ ะพััะฐะปัะฝัะต ะฝะต ััะพะณะฐัั.
> * ะะปั ััะพะน ัะพัะฝะพััะธ ะธ ะธัะฟะพะปัะทัะตััั **Wildcard Mask**. ะะฝะฐ ะฟะพะทะฒะพะปัะตั ัะบะฐะทะฐัั ะบะพะฝะบัะตัะฝัะน IP ะธะฝัะตััะตะนัะฐ ะธะปะธ ะพัะตะฝั ัะทะบะธะน ะดะธะฐะฟะฐะทะพะฝ.

---

## 1. ะงัะพ ัะฐะบะพะต Wildcard Mask?

**Wildcard Mask (ะะฑัะฐัะฝะฐั ะผะฐัะบะฐ)** โ ััะพ ะธะฝััััะผะตะฝั ัะธะปัััะฐัะธะธ IP-ะฐะดัะตัะพะฒ. ะะฝะฐ ัะบะฐะทัะฒะฐะตั ัะพััะตัั, ะบะฐะบะธะต ะฑะธัั ะฒ ะฐะดัะตัะต ะฟัะพะฒะตัััั, ะฐ ะบะฐะบะธะต ะธะณะฝะพัะธัะพะฒะฐัั.
ะญัะพ **ะธะฝะฒะตััะธั** ะพะฑััะฝะพะน ะผะฐัะบะธ ะฟะพะดัะตัะธ (Subnet Mask).
> [!INFO]+ ๐ง ะะพะณะธะบะฐ ะฑะธัะพะฒ
> * **0** = ยซCheckยป (ะะฑัะทะฐัะตะปัะฝะพ ะฟัะพะฒะตัะธัั ััะพั ะฑะธั. ะะฝ ะดะพะปะถะตะฝ ัะพะฒะฟะฐะดะฐัั ั ะพะฑัะฐะทัะพะผ).
> * **1** (ะธะปะธ 255 ะฒ ะดะตัััะธัะฝะพะน) = ยซIgnoreยป (ะะฝะต ะฒัั ัะฐะฒะฝะพ, ััะพ ะทะดะตัั ะฝะฐะฟะธัะฐะฝะพ).
### ๐งฎ 1.1 ะะฐะบ ะฑััััะพ ะฟะพััะธัะฐัั Wildcard?
ะคะพัะผัะปะฐ ะฟัะพััะฐ: **ะะปะพะฑะฐะปัะฝัะน ะัะพะฐะดะบะฐัั (ะฒัะต ะตะดะธะฝะธัั) ะผะธะฝัั ะะฐัะบะฐ ะะพะดัะตัะธ.**

$$255.255.255.255 - \text{Subnet Mask} = \text{Wildcard Mask}$$

**ะัะธะผะตัั:**

| ะัะตัะธะบั | ะะฑััะฝะฐั ะผะฐัะบะฐ (Subnet) | ะะฐััะตั                                | Wildcard Mask       | ะกะผััะป                                                                                                                  |
| :------ | :--------------------- | :------------------------------------ | :------------------ | :--------------------------------------------------------------------------------------------------------------------- |
| **/24** | `255.255.255.0`        | `255.255.255.255` - `255.255.255.0`   | **0.0.0.255**       | "ะะตัะฒัะต 3 ะพะบัะตัะฐ ะดะพะปะถะฝั ัะพะฒะฟะฐะดะฐัั, ะฟะพัะปะตะดะฝะธะน โ ะปัะฑะพะน".                                                                 |
| **/30** | `255.255.255.252`      | `255.255.255.255` - `255.255.255.252` | **0.0.0.3**         | ะขะพัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต ะฟะพะดัะตัะธ ะฝะฐ 2 ัะพััะฐ (PtP ะปะธะฝะบ).                                                                       |
| **/32** | `255.255.255.255`      | `255.255.255.255` - `255.255.255.255` | **0.0.0.0**         | **Host Match.** ะขะพัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต ั ะบะพะฝะบัะตัะฝัะผ IP.                                                                     |
| **/0**  | `0.0.0.0`              | `255.255.255.255` - `0.0.0.0`         | **255.255.255.255** | **Any.** ะัะฑะพะน IP ะฐะดัะตั (ะบะพะผะฐะฝะดะฐ `network 0.0.0.0 255.255.255.255 area 0` ะฒะบะปััะธั OSPF ะฝะฐ **ะฒัะตั** ะธะฝัะตััะตะนัะฐั ััะฐะทั). |
> [!INFO]+ ๐๏ธ 1.2 ะะฝะฐัะพะผะธั ะกะธะฝัะฐะบัะธัะฐ
> ```bash
> network <network-address> <wildcard-mask> area <area-id>
> ```
> 
> | ะัะณัะผะตะฝั | ะะฟะธัะฐะฝะธะต ะธ ะัะฐะฝัั |
> | :--- | :--- |
> | **Network Address** | ะจะฐะฑะปะพะฝ IP-ะฐะดัะตัะฐ. ะญัะพ ะผะพะถะตั ะฑััั ะฐะดัะตั ัะตัะธ (`192.168.1.0`), ะฐะดัะตั ัะพััะฐ (`192.168.1.1`) ะธะปะธ ะฒะพะพะฑัะต `0.0.0.0`. |
> | **Wildcard Mask** | **ะะฑัะฐัะฝะฐั ะผะฐัะบะฐ.** ะะฝะฒะตััะธั Subnet Mask. ะฃะบะฐะทัะฒะฐะตั ัััะพะณะพััั ะฟัะพะฒะตัะบะธ.<br>โข **0** โ ะะธั ะพะฑัะทะฐะฝ ัะพะฒะฟะฐะดะฐัั.<br>โข **255** โ ะะธั ะธะณะฝะพัะธััะตััั (Don't care). |
> | **Area ID** | ะะดะตะฝัะธัะธะบะฐัะพั ะทะพะฝั, ะบ ะบะพัะพัะพะน ะฑัะดะตั ะฟัะธะฟะธัะฐะฝ ะธะฝัะตััะตะนั.<br>**ะคะพัะผะฐัั:**<br>1. **Decimal:** `area 0`, `area 1`.<br>2. **IP:** `area 0.0.0.0` (ัะบะฒะธะฒะฐะปะตะฝัะฝะพ `area 0`). |

---

## 2. ะะพะณะธะบะฐ ัะฐะฑะพัั ั ะะพะฝะฐะผะธ (Areas)

ะะพะณะดะฐ ะฒั ะฒะฒะพะดะธัะต ะบะพะผะฐะฝะดั `network ... area 1`, ะฟัะพะธััะพะดัั ััะธ ะฒะตัะธ:

1.  **ะะบัะธะฒะฐัะธั (Enable):** ะะฝัะตััะตะนั ะฟะตัะตัะพะดะธั ะฒ ัะพััะพัะฝะธะต OSPF UP.
2.  **Hello Protocol:** ะะพััะตั ะฝะฐัะธะฝะฐะตั ัะฐัััะปะฐัั Hello-ะฟะฐะบะตัั ะฝะฐ ะผัะปััะธะบะฐัั `224.0.0.5`. ะ ะฟะฐะบะตัะต ัะบะฐะทะฐะฝ **Area ID**.
    * *ะัะธัะธัะฝะพ:* ะัะปะธ ั ัะพัะตะดะฐ ะฝะฐ ะดััะณะพะผ ะบะพะฝัะต ะฟัะพะฒะพะดะฐ ะฝะฐัััะพะตะฝะฐ ะดััะณะฐั ะทะพะฝะฐ, ัะพัะตะดััะฒะพ **ะฝะต ะฟะพะดะฝะธะผะตััั** (Area ID Mismatch).
3.  **LSA Generation:** ะะพััะตั ัะพะทะดะฐะตั **LSA Type 1 (Router LSA)**, ะฒ ะบะพัะพััั ะทะฐะฟะธััะฒะฐะตั ััะพั ะปะธะฝะบ ะธ ะตะณะพ ััะพะธะผะพััั (Cost). ะญัะฐ LSA ัะฐัะฟัะพัััะฐะฝัะตััั ัะพะปัะบะพ ะฒะฝัััะธ ัะบะฐะทะฐะฝะฝะพะน ะทะพะฝั.

> [!QUESTION]+ ๐ง ะะฐะบ ัะพััะตั ััะฐะฝะพะฒะธััั ABR?
> ะัะปะธ ะฝะฐ ะพะดะฝะพะผ ัะพััะตัะต ะฒั ะฒะฒะตะดะตัะต ะดะฒะต ะบะพะผะฐะฝะดั:
> ```bash
> network 192.168.1.0 0.0.0.255 area 0
> network 10.1.1.0 0.0.0.255 area 1
> ```
> ะะพััะตั ัะฒะธะดะธั, ััะพ ั ะฝะตะณะพ ะตััั ะธะฝัะตััะตะนัั ะฒ **ัะฐะทะฝัั** ะทะพะฝะฐั, ะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฟัะธัะฒะพะธั ัะตะฑะต ัะพะปั **ABR (Area Border Router)**. ะะฝ ะฝะฐัะฝะตั ะณะตะฝะตัะธัะพะฒะฐัั LSA Type 3 ะดะปั ะฟะตัะตััะปะบะธ ะผะฐัััััะพะฒ ะผะตะถะดั ะทะพะฝะฐะผะธ.

---

## 3. ะะพััะดะพะบ ะพะฑัะฐะฑะพัะบะธ (Order of Operations)

ะัะปะธ ะฒั ะฒะฒะตะปะธ ะฝะตัะบะพะปัะบะพ ะบะพะผะฐะฝะด `network`, ะดะธะฐะฟะฐะทะพะฝั ะบะพัะพััั ะฟะตัะตัะตะบะฐัััั, OSPF ะธัะฟะพะปัะทัะตั ะฟัะฐะฒะธะปะพ **Longest Match (ะะฐะธะฑะพะปะตะต ัะพัะฝะพะต ัะพะฒะฟะฐะดะตะฝะธะต)**.

> [!EXAMPLE]+ โ๏ธ ะัะธะผะตั ะบะพะฝัะปะธะบัะฐ
> ะฃ ัะพััะตัะฐ ะตััั ะธะฝัะตััะตะนั `10.1.1.1`.
> 
> ```bash
> ! ะะพะผะฐะฝะดะฐ ะ: ะจะธัะพะบะธะน ะดะธะฐะฟะฐะทะพะฝ -> ะะพะฝะฐ 2
> network 10.0.0.0 0.255.255.255 area 2
> 
> ! ะะพะผะฐะฝะดะฐ ะ: ะขะพัะตัะฝัะน ัะพัั -> ะะพะฝะฐ 0
> network 10.1.1.1 0.0.0.0 area 0
> ```
> 
> **ะะตะทัะปััะฐั:** ะะฝัะตััะตะนั `10.1.1.1` ัะนะดะตั ะฒ **Area 0**.
> **ะัะธัะธะฝะฐ:** ะะฐัะบะฐ `0.0.0.0` ะฑะพะปะตะต ัะฟะตัะธัะธัะฝะฐ (ะฑะพะปััะต ะฝัะปะตะน), ัะตะผ `0.255.255.255`.

---

## 4. ะะปััะตัะฝะฐัะธะฒะฐ: Interface Configuration

ะ ัะพะฒัะตะผะตะฝะฝะพะผ Cisco IOS (ะฝะฐัะธะฝะฐั ั 12.x ะธ ะฒ 15.x) ะผะพะถะฝะพ ะฒะพะพะฑัะต ะฝะต ะธัะฟะพะปัะทะพะฒะฐัั ะบะพะผะฐะฝะดั `network`. ะะผะตััะพ ััะพะณะพ ะผะพะถะฝะพ ะทะฐะนัะธ ะฟััะผะพ ะฒ ะฝะฐัััะพะนะบะธ ะธะฝัะตััะตะนัะฐ. ะญัะพ ััะธัะฐะตััั **Best Practice** ะดะปั IPv6 (OSPFv3) ะธ ัะฐััะพ ะธัะฟะพะปัะทัะตััั ะฒ IPv4 ะดะปั ะฝะฐะณะปัะดะฝะพััะธ.

> [!TIP]+ ๐ ะะตัะพะด Interface Configuration
> ะะผะตััะพ ัะฐััะตัะพะฒ Wildcard ะผะฐัะพะบ, ะฒั ะฟัะพััะพ ะฒะตัะฐะตัะต ััะปัะบ ะฝะฐ ะฟะพัั.
> ```bash
> interface GigabitEthernet0/1
>  ip address 192.168.10.1 255.255.255.0
>  ! ะััะผะพะต ัะบะฐะทะฐะฝะธะต ะทะพะฝั
>  ip ospf 1 area 0
> ```
> **ะัะตะธะผััะตััะฒะฐ:**
> * ะะต ะฝัะถะฝะพ ััะธัะฐัั Wildcard ะผะฐัะบะธ.
> * ะะตะฒะพะทะผะพะถะฝะพ ัะปััะฐะนะฝะพ ะทะฐัะฒะฐัะธัั ะปะธัะฝะธะน ะธะฝัะตััะตะนั.
> * ะัะธ ัะผะตะฝะต IP ะฐะดัะตัะฐ ะฝะฐ ะธะฝัะตััะตะนัะต, OSPF ะฟะพะดัะฒะฐัะธั ะฝะพะฒัะน IP ะฐะฒัะพะผะฐัะธัะตัะบะธ.

---
## 5. ะัะฐะบัะธัะตัะบะธะต ัััะฐัะตะณะธะธ ะฝะฐัััะพะนะบะธ

ะ ัะพะฒัะตะผะตะฝะฝะพะผ ัะตัะตะฒะพะผ ะธะฝะถะธะฝะธัะธะฝะณะต ัะปะพะถะธะปะพัั ะดะฒะฐ ะพัะฝะพะฒะฝัั ะฟะพะดัะพะดะฐ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ะบะพะผะฐะฝะดั `network`.

> [!NOTE]+ ๐๏ธ ะกะฟะพัะพะฑ ะ: "ะะปะฐััะธัะตัะบะธะน" (Subnet-based)
> ะั ัะบะฐะทัะฒะฐะตะผ ะฐะดัะตั ัะตัะธ ะธ ะฒััะธัะปะตะฝะฝัั Wildcard-ะผะฐัะบั.
> 
> * **ะกัะตะฝะฐัะธะน:** ะฃ ะฝะฐั ะตััั ะธะฝัะตััะตะนั `192.168.10.1/24`.
> * **ะะพะผะฐะฝะดะฐ:** 
> ```bash
> network 192.168.10.0 0.0.0.255 area 0
> ```
> * **๐ ะะปัั:** ะะธะฑะบะพััั. ะัะปะธ ะฒั ะฟะพะผะตะฝัะตัะต IP ะฝะฐ ะธะฝัะตััะตะนัะต (ะฝะฐะฟัะธะผะตั, ะฝะฐ `192.168.10.2`), OSPF ะฟัะพะดะพะปะถะธั ัะฐะฑะพัะฐัั, ัะฐะบ ะบะฐะบ ะฝะพะฒัะน IP ะฒัั ัะฐะฒะฝะพ ะฟะพะฟะฐะดะฐะตั ะฒ ะดะธะฐะฟะฐะทะพะฝ `/24`.
> * **๐ ะะธะฝัั:** ะัะถะฝะพ ะบะฐะถะดัะน ัะฐะท ะฒัััะธััะฒะฐัั Wildcard-ะผะฐัะบั.

> [!TIP]+ ๐ฏ ะกะฟะพัะพะฑ ะ: "ะขะพัะตัะฝัะน" (Host-specific) โ ะะตะบะพะผะตะฝะดัะตะผัะน
> ะั ัะบะฐะทัะฒะฐะตะผ ัะพัะฝัะน IP ะธะฝัะตััะตะนัะฐ ะธ ะผะฐัะบั `0.0.0.0`. ะั ะฝะต ะดัะผะฐะตะผ ะพ ะฟะพะดัะตััั, ะผั ะฟัะพััะพ "ััะบะฐะตะผ ะฟะฐะปััะตะผ" ะฒ ะบะพะฝะบัะตัะฝัะน IP.
> 
> * **ะกัะตะฝะฐัะธะน:** ะะฝัะตััะตะนั `192.168.10.1/24`.
> * **ะะพะผะฐะฝะดะฐ:**
> ```bash
> network 192.168.10.1 0.0.0.0 area 0
> ```
> * **๐ง ะะพะณะธะบะฐ ัะพััะตัะฐ:** *"ะะฐะนะดะธ ั ะผะตะฝั ะปะพะบะฐะปัะฝัะน ะธะฝัะตััะตะนั, ั ะบะพัะพัะพะณะพ IP **ะฒ ัะพัะฝะพััะธ** ัะฐะฒะตะฝ 192.168.10.1, ะธ ะฒะบะปััะธ ะฝะฐ ะฝัะผ OSPF"*. ะะผั ะฑะตะทัะฐะทะปะธัะฝะฐ ัะตะฐะปัะฝะฐั ะผะฐัะบะฐ ะฟะพะดัะตัะธ (/24), ะพะฝ ะธัะตั ัะพะฒะฟะฐะดะตะฝะธะต ัััะพะบะธ IP.
> * **๐ ะะปัั:** 
>	1. *ะะตะทะพะฟะฐัะฝะพััั:* ะะตะฒะพะทะผะพะถะฝะพ ะพัะธะฑะธัััั ะฒ ัะฐััะตัะฐั ะธ ัะปััะฐะนะฝะพ ะทะฐัะฒะฐัะธัั ัะพัะตะดะฝะธะน ะธะฝัะตััะตะนั.
>	2. *ะกะบะพัะพััั:* ะะต ะฝัะถะฝะพ ััะธัะฐัั `255 - X`. ะัะพััะพ ะบะพะฟะธััะตัั IP ะธ ะดะพะฑะฐะฒะปัะตัั ัะตัััะต ะฝัะปั.

> [!EXAMPLE]+ ะัะธะผะตั ะฝะฐัััะพะนะบะธ
> ```bash
> Router(config)# router ospf 1
> 
> ! ะะบะปััะฐะตะผ ะฝะฐ Loopback (ัะพัะตัะฝะพ)
> Router(config-router)# network 1.1.1.1 0.0.0.0 area 0
> 
> ! ะะบะปััะฐะตะผ ะฝะฐ ะปะพะบะฐะปัะฝะพะน ัะตัะธ /24 (ะบะปะฐััะธัะตัะบะธ)
> Router(config-router)# network 192.168.10.0 0.0.0.255 area 0
> ```

## ๐ ะกะฒัะทะธ
* **ะขะธะฟั ะทะพะฝ:** ะะณัะฐะฝะธัะตะฝะธั Stub ะธ NSSA ะทะพะฝ [[Cs - ospf area types]].
* **ะัะพะฒะตัะบะฐ:** ะะพัะผะพััะตัั ะฟะฐัะฐะผะตััั ะธะฝัะตััะตะนัะพะฒ [[Cs - show ip ospf interface | show ip ospf interface]].