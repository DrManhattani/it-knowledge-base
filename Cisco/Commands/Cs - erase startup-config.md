---
tags:
  - üåênetwork/cisco
  - üåênetwork/cisco/cmd
üí†Stack: üüß Cisco
üìü Device:
  - ‚óà Rtr
  - ‚åò Sw
üì∂ Mode:
  - ‚ö° Exec (Privileged
üóÇÔ∏è Category:
  - üßπ Maintenance
üìù Description: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –ø–∞–º—è—Ç–∏ (NVRAM). –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫ —Å–±—Ä–æ—Å—É.
‚ö° Alias: wr er
üíª Command: erase startup-config
---
# üìñ –ì–ª–∞–≤–∞: –£–¥–∞–ª–µ–Ω–∏–µ Startup-Config (Reset)

–ö–æ–º–∞–Ω–¥–∞ `erase startup-config` —Ñ–∏–∑–∏—á–µ—Å–∫–∏ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç —Ñ–∞–π–ª `startup-config`, –ª–µ–∂–∞—â–∏–π –≤ –ø–∞–º—è—Ç–∏ **NVRAM**.

---

> [!INFO]+ üß† 1. –§–∏–∑–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ (RAM vs NVRAM)
> –ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å —Å—É—Ç—å –∫–æ–º–∞–Ω–¥—ã, –Ω—É–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–∞–º—è—Ç–∏ Cisco:
> 
> 1.  **RAM (Running Config):** –ú–æ–∑–≥. –¢–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å. –ü–∏—Ç–∞–µ—Ç—Å—è –æ—Ç —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞.
> 2.  **NVRAM (Startup Config):** –ë–ª–æ–∫–Ω–æ—Ç. –¢–æ, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –Ω–∞ —Å–ª—É—á–∞–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
> 
> **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥—ã:**
> –í—ã —Å–∂–∏–≥–∞–µ—Ç–µ "–ë–ª–æ–∫–Ω–æ—Ç" (NVRAM).
> –ù–æ "–ú–æ–∑–≥" (RAM) –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –Ω–∏ –≤ —á–µ–º –Ω–µ –±—ã–≤–∞–ª–æ! –†–æ—É—Ç–µ—Ä –Ω–µ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç IP-–∞–¥—Ä–µ—Å–∞ –∏ –ø–∞—Ä–æ–ª–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ. –û–Ω –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –≤—ã –µ–≥–æ –Ω–µ –≤—ã–∫–ª—é—á–∏—Ç–µ.

> [!example]+ ‚öôÔ∏è 2. –ü–æ—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å (–° –∫–æ–Ω—Å–æ–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º)
> 
> **–®–∞–≥ 1. –ó–∞–ø—É—Å–∫ —É–¥–∞–ª–µ–Ω–∏—è**
> ```bash
> Router# erase startup-config
> ```
> 
> **–®–∞–≥ 2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (Safety Check)**
> –†–æ—É—Ç–µ—Ä —Å–ø—Ä–æ—Å–∏—Ç: "–í—ã —É–≤–µ—Ä–µ–Ω—ã? –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ NVRAM –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞".
> ```text
> Erasing the nvram filesystem will remove all configuration files! Continue? [confirm]
> ```
> *–ù—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–∞—Ç—å **Enter**.*
> 
> **–®–∞–≥ 3. –†–µ–∑—É–ª—å—Ç–∞—Ç**
> ```text
> [OK]
> Erase of nvram: complete
> ```

> [!danger]+ üí£ 3. –õ–æ–≤—É—à–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ (Reload Trap)
> –≠—Ç–æ —Å–∞–º—ã–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –æ—à–∏–±–∞—é—Ç—Å—è 50% –Ω–æ–≤–∏—á–∫–æ–≤.
> –ü–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π `reload`.
> 
> **–î–∏–∞–ª–æ–≥ —Ä–æ—É—Ç–µ—Ä–∞:**
> ```text
> Router# reload
> 
> System configuration has been modified. Save? [yes/no]:
> ```
> 
> **–ß–¢–û –û–¢–í–ï–ß–ê–¢–¨?**
> * ‚ùå **YES:** –í—ã —Å–æ–≤–µ—Ä—à–∏—Ç–µ —Ä–æ–∫–æ–≤—É—é –æ—à–∏–±–∫—É. –†–æ—É—Ç–µ—Ä –≤–æ–∑—å–º–µ—Ç —Ç–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ RAM (–∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Ö–æ—Ç–µ–ª–∏ —É–¥–∞–ª–∏—Ç—å) –∏ —Å–Ω–æ–≤–∞ –∑–∞–ø–∏—à–µ—Ç –∏—Ö –≤ `startup-config`. –°–±—Ä–æ—Å –æ—Ç–º–µ–Ω–∏—Ç—Å—è.
> * ‚úÖ **NO:** "–ù–µ—Ç, –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –Ø —Ö–æ—á—É –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –ø—É—Å—Ç—ã–º".
> 
> *–î–∞–ª–µ–µ:*
> ```text
> Proceed with reload? [confirm]
> ```
> *(–ñ–º–µ–º Enter)*

> [!TIP] ü¶ñ 4. –°—Ç–∞—Ä–∞—è —à–∫–æ–ª–∞: `write erase`
> –í —Å—Ç–∞—Ä—ã—Ö —É—á–µ–±–Ω–∏–∫–∞—Ö –∏ —Å—Ä–µ–¥–∏ –±–æ—Ä–æ–¥–∞—Ç—ã—Ö –∞–¥–º–∏–Ω–æ–≤ –≤—ã —É—Å–ª—ã—à–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `wr er` (write erase).
> * `write` ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä—ã–π –∞–Ω–∞–ª–æ–≥ `copy run start`.
> * `write erase` ‚Äî —ç—Ç–æ —Å—Ç–∞—Ä—ã–π –∞–Ω–∞–ª–æ–≥ `erase startup-config`.
> 
> –í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º IOS —Ä–∞–±–æ—Ç–∞—é—Ç –æ–±–µ –∫–æ–º–∞–Ω–¥—ã. `write erase` —É–¥–æ–±–Ω–µ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ—Ä–æ—á–µ.

> [!WARNING] üßπ 5. –ß—Ç–æ –ù–ï —É–¥–∞–ª—è–µ—Ç—Å—è?
> –î–∞–∂–µ –ø–æ—Å–ª–µ `erase startup-config` –∏ `reload` –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –º–æ–≥—É—Ç –æ—Å—Ç–∞—Ç—å—Å—è –¥–∞–Ω–Ω—ã–µ:
> 
> 1.  **VLAN Database (`vlan.dat`):** –ù–∞ –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞—Ö VLAN-—ã –∂–∏–≤—É—Ç –æ—Ç–¥–µ–ª—å–Ω–æ –≤–æ Flash. –ò—Ö –Ω–∞–¥–æ —É–¥–∞–ª—è—Ç—å –∫–æ–º–∞–Ω–¥–æ–π `delete vlan.dat`.
> 2.  **IOS Image (`.bin`):** –°–∞–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è (–∏ —Å–ª–∞–≤–∞ –±–æ–≥—É).
> 3.  **–õ–∏—Ü–µ–Ω–∑–∏–∏:** –§–∞–π–ª—ã –ª–∏—Ü–µ–Ω–∑–∏–π (–Ω–∞ –Ω–æ–≤—ã—Ö —Ä–æ—É—Ç–µ—Ä–∞—Ö) —á–∞—Å—Ç–æ –ª–µ–∂–∞—Ç –≤ —Å–∫—Ä—ã—Ç—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö.
> 4.  **–ö–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:** –ò–Ω–æ–≥–¥–∞ –∫–ª—é—á–∏ SSH –º–æ–≥—É—Ç –ø–µ—Ä–µ–∂–∏—Ç—å —Å–±—Ä–æ—Å, –µ—Å–ª–∏ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ NVRAM (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–¥–µ–ª–∏).

---

## üîó –°–≤—è–∑–∏
* **–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ [[Cs - reload]].
* **–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å, –µ—Å—Ç—å –ª–∏ —Ñ–∞–π–ª, –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `dir nvram:`.
* **–ù–∞ –∫–æ–º–º—É—Ç–∞—Ç–æ—Ä–∞—Ö:** –ù–µ –∑–∞–±—É–¥—å —É–¥–∞–ª–∏—Ç—å [[Cs - vlan | vlan.dat]].