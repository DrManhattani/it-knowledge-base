---
tags:
  - üåênetwork/cisco
  - üåênetwork/cisco/cmd
üí†Stack: üüß Cisco
üìü Device:
  - ‚óà Rtr
  - ‚åò Sw
üì∂ Mode:
  - ‚öôÔ∏è Config-Line
üóÇÔ∏è Category:
  - üõ°Ô∏è Sec
  - üïπÔ∏è Mgmt
üìù Description: –ü—Ä–∏–≤—è–∑–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –º–µ—Ç–æ–¥–æ–≤ AAA (Named List) –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ª–∏–Ω–∏–∏ –¥–æ—Å—Ç—É–ø–∞ (Console/VTY).
‚ö° Alias: log auth
üíª Command: login authentication
---
# üìñ –ì–ª–∞–≤–∞: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ AAA –Ω–∞ –ª–∏–Ω–∏—è—Ö

–ö–æ–º–∞–Ω–¥–∞ `login authentication` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ä–µ–∂–∏–º–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–∏–Ω–∏–π (`line vty`, `line console`).
–û–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –ø–æ—Ä—Ç—É: **"–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π –≤–æ—Ç —ç—Ç–æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–π –º—ã —Å–æ–∑–¥–∞–ª–∏ —Ä–∞–Ω–µ–µ".**

–≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞** (—Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤).

---

> [!SUMMARY] –°—É—Ç—å –∫–æ–º–∞–Ω–¥—ã
> –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ AAA –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
> 1.  **Global Config:** –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ —Å–ø–∏—Å–∫–∏ –º–µ—Ç–æ–¥–æ–≤ (–ù–∞–±–æ—Ä—ã –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π).
> 2.  **Line Config:** –í—ã –Ω–∞–∑–Ω–∞—á–∞–µ—Ç–µ —ç—Ç–∏ —Å–ø–∏—Å–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –≤—Ö–æ–¥—ã.
> 
> –ö–æ–º–∞–Ω–¥–∞ `login authentication <NAME>` —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å –∏–º–µ–Ω–µ–º `<NAME>` —Å —Ç–µ–∫—É—â–µ–π –ª–∏–Ω–∏–µ–π.

> [!INFO]+ üèóÔ∏è 1. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ –ê—Ä–≥—É–º–µ–Ω—Ç—ã
> ```bash
> R1(config-line)# login authentication <WORD>
> ```
> 
> | –ê—Ä–≥—É–º–µ–Ω—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
> | :--- | :--- | :--- |
> | **default** | –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ `default`. (–û–±—ã—á–Ω–æ —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø–∏—Å–∞—Ç—å —è–≤–Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏). | `login authentication default` |
> | **<WORD>** | –ò–º—è —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –≤–∞–º–∏ —Å–ø–∏—Å–∫–∞ (Named List). | `login authentication SSH-RULES` |
> 
> *–ï—Å–ª–∏ –≤—ã –≤–≤–µ–¥–µ—Ç–µ –∏–º—è —Å–ø–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ä–æ—É—Ç–µ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é **–∑–∞–±–ª–æ–∫–∏—Ä—É–µ—Ç** –≤—Ö–æ–¥ (Deny All) –≤ —Ü–µ–ª—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.*

> [!example]+ üöÄ 2. –°—Ü–µ–Ω–∞—Ä–∏–π: –†–∞–∑–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞ –¥–ª—è –ö–æ–Ω—Å–æ–ª–∏ –∏ SSH
> –°–∞–º—ã–π —á–∞—Å—Ç—ã–π –∫–µ–π—Å –≤ —Ä–µ–∞–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ:
> * **SSH (VTY):** –°—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä TACACS+ (—á—Ç–æ–±—ã –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –∞–¥–º–∏–Ω–æ–≤).
> * **Console:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ —Å–µ—Ç—å —É–ø–∞–ª–∞ –∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω).
> 
> **–®–∞–≥ 1. –°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–∫–∏ (–ì–ª–æ–±–∞–ª—å–Ω–æ)**
> ```bash
> ! –°–ø–∏—Å–æ–∫ –¥–ª—è SSH (–°–Ω–∞—á–∞–ª–∞ —Å–µ—Ä–≤–µ—Ä, –ø–æ—Ç–æ–º –ª–æ–∫–∞–ª—å–Ω–æ)
> aaa authentication login REMOTE-LIST group tacacs+ local
> 
> ! –°–ø–∏—Å–æ–∫ –¥–ª—è –ö–æ–Ω—Å–æ–ª–∏ (–¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)
> aaa authentication login CONSOLE-LIST local
> ```
> 
> **–®–∞–≥ 2. –ü—Ä–∏–º–µ–Ω—è–µ–º –∫ –ª–∏–Ω–∏—è–º (–õ–æ–∫–∞–ª—å–Ω–æ)**
> ```bash
> ! –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VTY (SSH)
> line vty 0 4
>  login authentication REMOTE-LIST
> 
> ! –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Console (–§–∏–∑–∏—á–µ—Å–∫–∏–π –ø–æ—Ä—Ç)
> line console 0
>  login authentication CONSOLE-LIST
> ```

> [!danger]+ ‚öîÔ∏è 3. –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å Legacy-–∫–æ–º–∞–Ω–¥–∞–º–∏
> –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –º–æ–º–µ–Ω—Ç –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è.
> –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤–∫–ª—é—á–µ–Ω–∞ `aaa new-model`, —Å—Ç–∞—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –≤–µ–¥—É—Ç —Å–µ–±—è –∏–Ω–∞—á–µ.
> 
> | –ö–æ–º–∞–Ω–¥–∞ –Ω–∞ –ª–∏–Ω–∏–∏ | –ü–æ–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ AAA | –ü–æ–≤–µ–¥–µ–Ω–∏–µ —Å AAA |
> | :--- | :--- | :--- |
> | `login` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–∞—Ä–æ–ª—å, –∑–∞–¥–∞–Ω–Ω—ã–π –∫–æ–º–∞–Ω–¥–æ–π `password ...`. | ‚ö†Ô∏è **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.** –†–∞–±–æ—Ç–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `default`. |
> | `login local` | –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —é–∑–µ—Ä–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ. | ‚ö†Ô∏è **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è.** –†–∞–±–æ—Ç–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `default`. |
> | `login authentication ...` | –ö–æ–º–∞–Ω–¥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ (—Å–∫—Ä—ã—Ç–∞). | ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç.** –ü—Ä–∏–º–µ–Ω—è–µ—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫. |
> 
> **–í—ã–≤–æ–¥:** –ï—Å–ª–∏ –≤—ã –≤–∫–ª—é—á–∏–ª–∏ AAA, –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ `login local` –Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `login authentication`.

> [!TIP] üí° 4. –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–µ—Ñ–æ–ª—Ç—É)?
> –ï—Å–ª–∏ –≤—ã –Ω–∞—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ª–∏–Ω–∏—è —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–ª–∞ "–∫–∞–∫ –≤—Å–µ" (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ `default`), –ø—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–≤—è–∑–∫—É:
> 
> ```bash
> line console 0
>  no login authentication
> ```
> *–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ª–∏–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—á–Ω–µ—Ç –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—É `aaa authentication login default ...`.*

---

## üîó –°–≤—è–∑–∏
* **–ß—Ç–æ –ø—Ä–∏–º–µ–Ω—è–µ–º:** –°–ø–∏—Å–∫–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ [[Cs - aaa authentication login]].
* **–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ–º:** –í–Ω—É—Ç—Ä–∏ [[Cs - line vty]] –∏–ª–∏ [[Cs - line console]].
* **–ì–ª–∞–≤–Ω—ã–π —Ä—É–±–∏–ª—å–Ω–∏–∫:** –¢—Ä–µ–±—É–µ—Ç –≤–∫–ª—é—á–µ–Ω–∏—è [[Cs - aaa new-model]].