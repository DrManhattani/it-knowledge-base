---
tags:
  - üêôgit/cmd
  - üêôgit
üí†Stack: üêô Git
üåç Scope:
  - üåé Global
üõ°Ô∏è Risk: ‚ö†Ô∏è Moderate (–º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∏–Ω–¥–µ–∫—Å –∏–ª–∏ WD)
üèπ Target Area: Index üóÇÔ∏è
üîß Level: ü™† Plumbing
üìù Description: –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –æ–±—ä–µ–∫—Ç–∞ –¥–µ—Ä–µ–≤–∞ (tree) –≤ –∏–Ω–¥–µ–∫—Å, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –∫–æ–º–∞–Ω–¥.
üíª Command: git read-tree
---
# üõ†Ô∏è git read-tree

> [!ABSTRACT] –°—É—Ç—å
> –ï—Å–ª–∏ `mktree` —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–µ—Ä–µ–≤–∞ –∏–∑ —Ç–µ–∫—Å—Ç–∞, —Ç–æ `read-tree` –¥–µ–ª–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ–µ: –±–µ—Ä–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ö–µ—à –¥–µ—Ä–µ–≤–∞ –∏–∑ –±–∞–∑—ã –æ–±—ä–µ–∫—Ç–æ–≤ –∏ ¬´—Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç¬ª –µ–≥–æ –≤ —Ç–≤–æ–π –∏–Ω–¥–µ–∫—Å. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å –º–µ—Ö–∞–Ω–∏–∫–∏ `git checkout` –∏ `git merge`.

>[!abstract] –°–∏–Ω—Ç–∞–∫—Å–∏—Å
>```bash
>git read-tree [[-m [--trivial] [--aggressive] | --reset | --prefix=<prefix>] [-u | -i]] <tree-ish>
>```

---
## üö© 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏ (Key Flags)

> [!SETTINGS] –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–ª–∞–≥–∏ `git read-tree` üö©
> 
> | **–§–ª–∞–≥** | **Mnemonic** | **–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ** | **–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** |
> | :--- | :--- | :--- | :--- |
> | `-m` | **M**erge | **–°–ª–∏—è–Ω–∏–µ.** –ü—ã—Ç–∞–µ—Ç—Å—è –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –¥–≤–∞ –∏–ª–∏ –±–æ–ª–µ–µ –¥–µ—Ä–µ–≤—å–µ–≤. –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, –æ–Ω–∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –≤ –∏–Ω–¥–µ–∫—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞–¥–∏—è–º–∏ (1, 2, 3). | `git read-tree -m tree1 tree2` |
> | `-u` | **U**pdate | **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ WD.** –ù–µ –ø—Ä–æ—Å—Ç–æ –º–µ–Ω—è–µ—Ç –∏–Ω–¥–µ–∫—Å, –Ω–æ –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ñ–∞–π–ª—ã –≤ —Ç–≤–æ–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –¥–µ—Ä–µ–≤—É. | `git read-tree -u <hash>` |
> | `--reset` | **Reset** | **–°–±—Ä–æ—Å.** –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∏–Ω–¥–µ–∫—Å –∏ –∑–∞–º–µ–Ω—è–µ—Ç –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —É–∫–∞–∑–∞–Ω–Ω—ã–º –¥–µ—Ä–µ–≤–æ–º. –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –Ω–µ–∑–∞–∫–æ–º–º–∏—á–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è. | `git read-tree --reset HEAD` |

---
## üë®‚Äçüç≥ 2. –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã (Cookbook)

> [!EXAMPLE] –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–º–º–∏—Ç
> –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–º–º–∏—Ç–∞, –Ω–µ –º–µ–Ω—è—è –≤–µ—Ç–∫—É.
> ```bash
> git read-tree --reset <hash_—Å—Ç–∞—Ä–æ–≥–æ_–∫–æ–º–º–∏—Ç–∞>
> ```

> [!IMPORTANT] –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∏ –¥–∏—Å–∫–∞
> –û–±—ã—á–Ω–æ `read-tree` –º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å. –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ç—Ä–∞–∑–∏–ª–∏—Å—å –Ω–∞ —Ñ–∞–π–ª–∞—Ö, –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π `-u`.
> ```bash
> git read-tree -u --reset HEAD
> ```

---
## ‚öôÔ∏è 3. Under the Hood (–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ)

> [!GEAR] –ö–∞–∫ Git ¬´—á–∏—Ç–∞–µ—Ç¬ª –¥–µ—Ä–µ–≤–æ üå≥
> 
> –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ç—Ä–∞–Ω—Å–ª—è—Ç–æ—Ä –º–µ–∂–¥—É –±–∏–Ω–∞—Ä–Ω—ã–º –æ–±—ä–µ–∫—Ç–æ–º `tree` –∏ –±–∏–Ω–∞—Ä–Ω—ã–º —Ñ–∞–π–ª–æ–º `.git/index`:
> 
> 1. **–ü–∞—Ä—Å–∏–Ω–≥** üîç: Git —Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ–±—ä–µ–∫—Ç –¥–µ—Ä–µ–≤–∞ –ø–æ —Ö–µ—à—É.
> 2. **–†–µ–∫—É—Ä—Å–∏—è** üîÑ: –ï—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –¥–µ—Ä–µ–≤–∞ –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ –¥–µ—Ä–µ–≤—å—è (–ø–∞–ø–∫–∏), Git –∑–∞—Ö–æ–¥–∏—Ç –≤ –Ω–∏—Ö –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –±–ª–æ–±—ã.
> 3. **–ú–∞–ø–ø–∏–Ω–≥** üó∫Ô∏è: –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ –∏–Ω–¥–µ–∫—Å–µ.
> 
> ### –õ–æ–≥–∏–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞:
> $$IndexEntry = \{Path, Mode, SHA-1(Blob), Stage\}$$
> 
> –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `-m` Git —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–µ—Ä–µ–≤—å–µ–≤ –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç `Stage > 0`, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ –ø—É—Ç–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è.

---
## üß† 4. Deep Dive / Question

> [!QUESTION] –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É `git read-tree --reset HEAD` –∏ `git reset --hard HEAD`?
> 
> –•–æ—Ç—è –Ω–∞–∑–≤–∞–Ω–∏—è –ø–æ—Ö–æ–∂–∏, —Ä–∞–±–æ—Ç–∞—é—Ç –æ–Ω–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö:
> 1. `git reset --hard` ‚Äî —ç—Ç–æ **–≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è (porcelain)** –∫–æ–º–∞–Ω–¥–∞. –û–Ω–∞ –ø–µ—Ä–µ–¥–≤–∏–≥–∞–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—å –≤–µ—Ç–∫–∏, –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å –∏ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é.
> 2. `git read-tree --reset` ‚Äî —ç—Ç–æ **–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è (plumbing)** –∫–æ–º–∞–Ω–¥–∞. –û–Ω–∞ **–Ω–µ –¥–≤–∏–≥–∞–µ—Ç –≤–µ—Ç–∫—É**. –û–Ω–∞ –ø—Ä–æ—Å—Ç–æ –±–µ—Ä–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ –∏ ¬´–≤–ø–µ—á–∞—Ç—ã–≤–∞–µ—Ç¬ª –µ–≥–æ –≤ –∏–Ω–¥–µ–∫—Å (–∏ –≤ WD, –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω `-u`). 
> 
> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–µ–±–µ ¬´–ø—Ä–∏–º–µ—Ä–∏—Ç—å¬ª —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª—é–±–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –Ω–∞ —Å–≤–æ–π –∏–Ω–¥–µ–∫—Å, –Ω–µ –º–µ–Ω—è—è —Ç–æ–≥–æ, –Ω–∞ –∫–∞–∫–æ–º –∫–æ–º–º–∏—Ç–µ —Ç—ã —Å–µ–π—á–∞—Å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–∞—Ö–æ–¥–∏—à—å—Å—è.

---
## üîó –°–≤—è–∑–∏
- **–°–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ä–µ–≤–∞:** [[Git - git mktree|git mktree]]
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏–Ω–¥–µ–∫—Å–∞:** [[Git - git ls-files|git ls-files]]
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–±—ä–µ–∫—Ç—ã –≤ Git:** [[Git - 00 Objects Type|Objects Type]]